____
# Документация по API

## Регистрация и просмотр всех пользователей
### Для регистрации нужно отправить POST запрос с json, пример: 
```json
{
  "username": "test",
}
``` 
на - ```http://{имя домена}/api/v1/add-user/``` , сервер вернет json содержащий ```api_key``` пример:
```json
{
  "id": 8,
  "username": "test",
  "api_key": "a199b709-cdb7-4f65-9879-d3f4d1b074eb"
}
```
 который нужен для дальнейшей работы с ```api```.

### Получение списка всех пользователей
Для получения списка пользователей нужно отправить GET запрос на - ```http://{имя домена}/api/v1/users/```
```json
[
  {
    "id": 3,
    "username": "test3"
  },
  {
    "id": 6,
    "username": "test-4"
  },
  {
    "id": 7,
    "username": "test-5"
  },
  {
    "id": 8,
    "username": "test",
  }
]
```
## Запросы
### Отправка заявки в друзья
Для отправка заявки в друзья нужно отправить POST запрос с json указав ```id``` пользователя, которому хотим отправить заявку, для примера запрос пользователю с id ```7```: 
```json
{
  "to_user": 7
}
``` 
запрос отправляется на - ```http://{имя домена}/api/v1/friend-request/<api_key>``` для отправки поле api_key нужно заменить на ```api_key``` , который вернул сервер при регистрации ```http://{имя домена}/api/v1/friend-request/a199b709-cdb7-4f65-9879-d3f4d1b074eb```
в ответ сервер вернет json:
```json
{
  "id": 19,
  "from_user": 8,
  "to_user": 7,
  "status": "PENDING"
}
```
## Получение списка входящих и исходящих запросов
 Для этого достаточно отправить GET запрос на ```http://{имя домена}/api/v1/friend-request/<api_key>``` подставив свой ```api_key```, пример: ```http://{имя домена}/api/v1/friend-request/a199b709-cdb7-4f65-9879-d3f4d1b074eb```, ответ сервера: 
 ```json
{
  "outgoing": [
    {
      "id": 19,
      "from_user": 8,
      "to_user": 7,
      "status": "PENDING"
    }
  ],
  "incoming": [
    {
      "id": 20,
      "from_user": 3,
      "to_user": 8,
      "status": "PENDING"
    }
  ]
}
 ```
## Удаление входящей заявки
Необходимо отправить DELETE запрос на ```http://{имя домена}/api/v1/friend-request/<api_key>/<id>/delete``` подставив свой ```api_key``` и ```id``` запроса, ответ с сервера:
```json
{
  "Info": "Запрос успешно удален"
}
 ```
## Принятие и отклонение заявки в друзья
### Принятие заявки
Нужно отправить GET запрос на ```http://{имя домена}/api/v1/friends-request/<api_key>/<friend_id>/accept``` подставив свой ```api_key``` и ```id``` пользователя заявку от которого нужно принять, ответ с сервера:
```json
{
  "Info": "Заявка принята",
  "friend": {
    "id": 9,
    "friend_id": 6,
    "friend_name": "test-4"
  }
}
```
### Отклонение заявки
Нужно отправить GET запрос на ```http://{имя домена}/api/v1/friends-request/<api_key>/<friend_id>/reject``` подставив свой ```api_key``` и ```id``` пользователя заявку от которого нужно принять, ответ с сервера:
```json
{
  "Info": "Заявка отклонена"
}
```
## Список всех друзей
Для получения списка друзей нужно отправить GET запрос на ```http://{имя домена}/api/v1/friends/<api_key>``` подставив свой ```api_key```, ответ сервера:
```json
{
  "friends": [
    {
      "id": 9,
      "friend_id": 6,
      "friend_name": "test-4"
    }
  ]
}
```
## Получения статуса с конкретным пользователем
Нужно отправить GET запрос на ```http://{имя домена}/api/v1/friends-status/<api_key>/<friend_id>``` подставив свой ```api_key``` и ```id``` пользователя статус с которым нужно узнать, пример ответов сервера:
```json
{
  "Info": "Вы являетесь друзьями"
}
```
```json
{
  "Info": "Нет ничего"
}
```
```json
{
  "Info": "Исходящая заявка"
}
```
```json
{
  "Info": "Входящая заявка"
}
```
## Удаление пользователя из друзей
Для удаления нужно отправить DELETE запрос на ```http://{имя домена}/api/v1/friend-delete/<api_key>/<friend_id>``` подставив свой ```api_key``` и ```id``` пользователя которого нужно удалить из друзей, ответ сервера:
```json
{
  "Info": "Пользователь успешно удален из ваших друзей"
}
```
## Удаление аккаунта
Для удаления аккаунта нужно отправить GET запрос на ```http://{имя домена}/api/v1/user-delete/<api_key>``` подставив свой ```api_key```, ответ сервера:
```json
{
  "Info": "Аккаунт успешно удален"
}
```